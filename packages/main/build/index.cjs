"use strict";var n=require("electron"),c=require("path"),a=require("electron-screenshots");function s(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var l=s(a);async function i(){const e=new n.BrowserWindow({show:!1,webPreferences:{preload:c.join(__dirname,"../../preload/build/index.cjs")}});e.on("ready-to-show",()=>{e==null||e.show()}),process.env;const o=new URL(c.join(__dirname,"../../renderer/build/index.html"),`file://${__dirname}`).toString();await e.loadURL(o)}async function u(){const e=new l.default;n.globalShortcut.register("ctrl+shift+x",()=>{console.log("tj:--ctrl+shift+a"),e.startCapture()}),e.on("ok",(o,r,t)=>{console.log("capture",r,t)}),e.on("cancel",()=>{console.log("capture","cancel1")}),e.on("cancel",o=>{o.preventDefault(),console.log("capture","cancel2")}),e.on("save",(o,r,t)=>{console.log("capture",r,t)})}n.app.whenReady().then(i).catch(e=>console.error("Failed to crate window:",e));n.app.whenReady().then(u).catch(e=>console.error("Failed to screenshotsConfig:",e));n.app.on("window-all-closed",()=>{process.platform!=="darwin"&&n.app.quit()});n.app.whenReady().then(()=>Promise.resolve().then(function(){return require("./main.js")}).then(function(e){return e.main})).then(({autoUpdater:e})=>e.checkForUpdatesAndNotify()).catch(e=>console.error("Failed check updates:",e));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwLCBCcm93c2VyV2luZG93LCBnbG9iYWxTaG9ydGN1dCB9IGZyb20gJ2VsZWN0cm9uJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCBTY3JlZW5zaG90cyBmcm9tICdlbGVjdHJvbi1zY3JlZW5zaG90cyc7XG5cbmNvbnN0IGlzRGV2ZWxvcG1lbnQgPSBpbXBvcnQubWV0YS5lbnYuREVWO1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXaW5kb3coKSB7XG4gIGNvbnN0IG1haW5XaW5kb3cgPSBuZXcgQnJvd3NlcldpbmRvdyh7XG4gICAgc2hvdzogZmFsc2UsIC8vIFVzZSAncmVhZHktdG8tc2hvdycgZXZlbnQgdG8gc2hvdyB3aW5kb3dcbiAgICB3ZWJQcmVmZXJlbmNlczoge1xuICAgICAgcHJlbG9hZDogam9pbihfX2Rpcm5hbWUsICcuLi8uLi9wcmVsb2FkL2J1aWxkL2luZGV4LmNqcycpLFxuICAgIH0sXG4gIH0pO1xuXG4gIG1haW5XaW5kb3cub24oJ3JlYWR5LXRvLXNob3cnLCAoKSA9PiB7XG4gICAgbWFpbldpbmRvdz8uc2hvdygpO1xuXG4gICAgaWYgKGlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgIG1haW5XaW5kb3c/LndlYkNvbnRlbnRzLm9wZW5EZXZUb29scygpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgeyBSRU5ERVJFUl9ERVZfU0VSVkVSX1VSTCB9ID0gcHJvY2Vzcy5lbnY7XG5cbiAgY29uc3QgcGFnZVVybCA9IGlzRGV2ZWxvcG1lbnQgJiYgUkVOREVSRVJfREVWX1NFUlZFUl9VUkxcbiAgICA/IFJFTkRFUkVSX0RFVl9TRVJWRVJfVVJMXG4gICAgOiBuZXcgVVJMKGpvaW4oX19kaXJuYW1lLCAnLi4vLi4vcmVuZGVyZXIvYnVpbGQvaW5kZXguaHRtbCcpLCBgZmlsZTovLyR7X19kaXJuYW1lfWApLnRvU3RyaW5nKCk7XG5cbiAgYXdhaXQgbWFpbldpbmRvdy5sb2FkVVJMKHBhZ2VVcmwpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzY3JlZW5zaG90c0NvbmZpZygpIHtcbiAgY29uc3Qgc2NyZWVuc2hvdHMgPSBuZXcgU2NyZWVuc2hvdHMoKTtcbiAgZ2xvYmFsU2hvcnRjdXQucmVnaXN0ZXIoJ2N0cmwrc2hpZnQreCcsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygndGo6LS1jdHJsK3NoaWZ0K2EnKTtcbiAgICBzY3JlZW5zaG90cy5zdGFydENhcHR1cmUoKTtcbiAgICAvLyBzY3JlZW5zaG90cy4kdmlldy53ZWJDb250ZW50cy5vcGVuRGV2VG9vbHMoKTtcbiAgfSk7XG4gIC8vIOeCueWHu+ehruWumuaMiemSruWbnuiwg+S6i+S7tlxuICBzY3JlZW5zaG90cy5vbignb2snLCAoZSwgYnVmZmVyLCBib3VuZHMpID0+IHtcbiAgICBjb25zb2xlLmxvZygnY2FwdHVyZScsIGJ1ZmZlciwgYm91bmRzKTtcbiAgfSk7XG4gIC8vIOeCueWHu+WPlua2iOaMiemSruWbnuiwg+S6i+S7tjtcbiAgc2NyZWVuc2hvdHMub24oJ2NhbmNlbCcsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnY2FwdHVyZScsICdjYW5jZWwxJyk7XG4gIH0pO1xuICBzY3JlZW5zaG90cy5vbignY2FuY2VsJywgKGUpID0+IHtcbiAgICAvLyDmiafooYzkuoZwcmV2ZW50RGVmYXVsdFxuICAgIC8vIOeCueWHu+WPlua2iOS4jeS8muWFs+mXreaIquWbvueql+WPo1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnY2FwdHVyZScsICdjYW5jZWwyJyk7XG4gIH0pO1xuICAvLyDngrnlh7vkv53lrZjmjInpkq7lm57osIPkuovku7ZcbiAgc2NyZWVuc2hvdHMub24oJ3NhdmUnLCAoZSwgYnVmZmVyLCBib3VuZHMpID0+IHtcbiAgICBjb25zb2xlLmxvZygnY2FwdHVyZScsIGJ1ZmZlciwgYm91bmRzKTtcbiAgfSk7XG59XG5hcHAud2hlblJlYWR5KClcbiAgLnRoZW4oY3JlYXRlV2luZG93KVxuICAuY2F0Y2goKGUpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmF0ZSB3aW5kb3c6JywgZSkpO1xuXG5hcHAud2hlblJlYWR5KClcbiAgLnRoZW4oc2NyZWVuc2hvdHNDb25maWcpXG4gIC5jYXRjaCgoZSkgPT4gY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNjcmVlbnNob3RzQ29uZmlnOicsIGUpKTtcblxuYXBwLm9uKCd3aW5kb3ctYWxsLWNsb3NlZCcsICgpID0+IHtcbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gIT09ICdkYXJ3aW4nKSB7XG4gICAgYXBwLnF1aXQoKTtcbiAgfVxufSk7XG5cbmlmICghaXNEZXZlbG9wbWVudCkge1xuICBhcHAud2hlblJlYWR5KClcbiAgICAudGhlbigoKSA9PiBpbXBvcnQoJ2VsZWN0cm9uLXVwZGF0ZXInKSlcbiAgICAudGhlbigoeyBhdXRvVXBkYXRlciB9KSA9PiBhdXRvVXBkYXRlci5jaGVja0ZvclVwZGF0ZXNBbmROb3RpZnkoKSlcbiAgICAuY2F0Y2goKGUpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCBjaGVjayB1cGRhdGVzOicsIGUpKTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVXaW5kb3ciLCJtYWluV2luZG93IiwiQnJvd3NlcldpbmRvdyIsImpvaW4iLCJwYWdlVXJsIiwic2NyZWVuc2hvdHNDb25maWciLCJzY3JlZW5zaG90cyIsIlNjcmVlbnNob3RzIiwiZ2xvYmFsU2hvcnRjdXQiLCJlIiwiYnVmZmVyIiwiYm91bmRzIiwiYXBwIiwibiIsImF1dG9VcGRhdGVyIl0sIm1hcHBpbmdzIjoiOEtBTUEsZUFBZUEsR0FBZSxDQUN0QixNQUFBQyxFQUFhLElBQUlDLGdCQUFjLENBQ25DLEtBQU0sR0FDTixlQUFnQixDQUNkLFFBQVNDLEVBQUFBLEtBQUssVUFBVywrQkFBK0IsQ0FDMUQsQ0FBQSxDQUNELEVBRVVGLEVBQUEsR0FBRyxnQkFBaUIsSUFBTSxDQUNuQ0EsR0FBQSxNQUFBQSxFQUFZLE1BSVosQ0FDRCxFQUVtQyxRQUFRLElBRTVDLE1BQU1HLEVBRUYsSUFBSSxJQUFJRCxFQUFBQSxLQUFLLFVBQVcsaUNBQWlDLEVBQUcsVUFBVSxXQUFXLEVBQUUsU0FBUyxFQUUxRixNQUFBRixFQUFXLFFBQVFHLENBQU8sQ0FDbEMsQ0FFQSxlQUFlQyxHQUFvQixDQUMzQixNQUFBQyxFQUFjLElBQUlDLEVBQUFBLFFBQ1RDLGlCQUFBLFNBQVMsZUFBZ0IsSUFBTSxDQUM1QyxRQUFRLElBQUksbUJBQW1CLEVBQy9CRixFQUFZLGFBQWEsQ0FBQSxDQUUxQixFQUVEQSxFQUFZLEdBQUcsS0FBTSxDQUFDRyxFQUFHQyxFQUFRQyxJQUFXLENBQ2xDLFFBQUEsSUFBSSxVQUFXRCxFQUFRQyxDQUFNLENBQUEsQ0FDdEMsRUFFV0wsRUFBQSxHQUFHLFNBQVUsSUFBTSxDQUNyQixRQUFBLElBQUksVUFBVyxTQUFTLENBQUEsQ0FDakMsRUFDV0EsRUFBQSxHQUFHLFNBQVdHLEdBQU0sQ0FHOUJBLEVBQUUsZUFBZSxFQUNULFFBQUEsSUFBSSxVQUFXLFNBQVMsQ0FBQSxDQUNqQyxFQUVESCxFQUFZLEdBQUcsT0FBUSxDQUFDRyxFQUFHQyxFQUFRQyxJQUFXLENBQ3BDLFFBQUEsSUFBSSxVQUFXRCxFQUFRQyxDQUFNLENBQUEsQ0FDdEMsQ0FDSCxDQUNBQyxFQUFBLElBQUksVUFBVSxFQUNYLEtBQUtaLENBQVksRUFDakIsTUFBTyxHQUFNLFFBQVEsTUFBTSwwQkFBMkIsQ0FBQyxDQUFDLEVBRTNEWSxFQUFBLElBQUksVUFBVSxFQUNYLEtBQUtQLENBQWlCLEVBQ3RCLE1BQU8sR0FBTSxRQUFRLE1BQU0sK0JBQWdDLENBQUMsQ0FBQyxFQUVoRU8sRUFBQUEsSUFBSSxHQUFHLG9CQUFxQixJQUFNLENBQzVCLFFBQVEsV0FBYSxVQUN2QkEsRUFBQSxJQUFJLEtBQUssQ0FFYixDQUFDLEVBR0tBLE1BQUEsWUFDRCxLQUFLLElBQU0sUUFBQSxRQUFBLEVBQUEsS0FBQSxVQUFBLENBQUEsT0FBQSxRQUFPLFdBQW1CLENBQUEsQ0FBQSxFQUFBLEtBQUEsU0FBQUMsRUFBQSxDQUFBLE9BQUFBLEVBQUEsSUFBQSxDQUFBLENBQUEsRUFDckMsS0FBSyxDQUFDLENBQUUsWUFBQUMsS0FBa0JBLEVBQVkseUJBQTBCLENBQUEsRUFDaEUsTUFBTyxHQUFNLFFBQVEsTUFBTSx3QkFBeUIsQ0FBQyxDQUFDIn0=
