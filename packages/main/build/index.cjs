"use strict";var n=require("electron"),c=require("path"),a=require("electron-screenshots");function s(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var l=s(a);async function i(){const e=new n.BrowserWindow({show:!1,webPreferences:{preload:c.join(__dirname,"../../preload/build/index.cjs")}});e.on("ready-to-show",()=>{e==null||e.show()}),process.env;const o=new URL(c.join(__dirname,"../../renderer/build/index.html"),`file://${__dirname}`).toString();await e.loadURL(o)}async function u(){const e=new l.default;n.globalShortcut.register("ctrl+shift+x",()=>{console.log("tj:--ctrl+shift+a"),e.startCapture()}),e.on("ok",(o,r,t)=>{console.log("capture",r,t)}),e.on("cancel",()=>{console.log("capture","cancel1")}),e.on("cancel",o=>{o.preventDefault(),console.log("capture","cancel2")}),e.on("save",(o,r,t)=>{console.log("capture",r,t)})}n.app.whenReady().then(i).catch(e=>console.error("Failed to crate window:",e));n.app.whenReady().then(u).catch(e=>console.error("Failed to screenshotsConfig:",e));n.app.on("window-all-closed",()=>{process.platform!=="darwin"&&n.app.quit()});n.app.whenReady().then(()=>Promise.resolve().then(function(){return require("./main.js")}).then(function(e){return e.main})).then(({autoUpdater:e})=>e.checkForUpdatesAndNotify()).catch(e=>console.error("Failed check updates:",e));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwLCBCcm93c2VyV2luZG93LCBnbG9iYWxTaG9ydGN1dCB9IGZyb20gJ2VsZWN0cm9uJztcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgU2NyZWVuc2hvdHMgZnJvbSAnZWxlY3Ryb24tc2NyZWVuc2hvdHMnO1xyXG5cclxuY29uc3QgaXNEZXZlbG9wbWVudCA9IGltcG9ydC5tZXRhLmVudi5ERVY7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXaW5kb3coKSB7XHJcbiAgY29uc3QgbWFpbldpbmRvdyA9IG5ldyBCcm93c2VyV2luZG93KHtcclxuICAgIHNob3c6IGZhbHNlLCAvLyBVc2UgJ3JlYWR5LXRvLXNob3cnIGV2ZW50IHRvIHNob3cgd2luZG93XHJcbiAgICB3ZWJQcmVmZXJlbmNlczoge1xyXG4gICAgICBwcmVsb2FkOiBqb2luKF9fZGlybmFtZSwgJy4uLy4uL3ByZWxvYWQvYnVpbGQvaW5kZXguY2pzJyksXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBtYWluV2luZG93Lm9uKCdyZWFkeS10by1zaG93JywgKCkgPT4ge1xyXG4gICAgbWFpbldpbmRvdz8uc2hvdygpO1xyXG5cclxuICAgIGlmIChpc0RldmVsb3BtZW50KSB7XHJcbiAgICAgIG1haW5XaW5kb3c/LndlYkNvbnRlbnRzLm9wZW5EZXZUb29scygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCB7IFJFTkRFUkVSX0RFVl9TRVJWRVJfVVJMIH0gPSBwcm9jZXNzLmVudjtcclxuXHJcbiAgY29uc3QgcGFnZVVybCA9IGlzRGV2ZWxvcG1lbnQgJiYgUkVOREVSRVJfREVWX1NFUlZFUl9VUkxcclxuICAgID8gUkVOREVSRVJfREVWX1NFUlZFUl9VUkxcclxuICAgIDogbmV3IFVSTChqb2luKF9fZGlybmFtZSwgJy4uLy4uL3JlbmRlcmVyL2J1aWxkL2luZGV4Lmh0bWwnKSwgYGZpbGU6Ly8ke19fZGlybmFtZX1gKS50b1N0cmluZygpO1xyXG5cclxuICBhd2FpdCBtYWluV2luZG93LmxvYWRVUkwocGFnZVVybCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNjcmVlbnNob3RzQ29uZmlnKCkge1xyXG4gIGNvbnN0IHNjcmVlbnNob3RzID0gbmV3IFNjcmVlbnNob3RzKCk7XHJcbiAgZ2xvYmFsU2hvcnRjdXQucmVnaXN0ZXIoJ2N0cmwrc2hpZnQreCcsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCd0ajotLWN0cmwrc2hpZnQrYScpO1xyXG4gICAgc2NyZWVuc2hvdHMuc3RhcnRDYXB0dXJlKCk7XHJcbiAgICAvLyBzY3JlZW5zaG90cy4kdmlldy53ZWJDb250ZW50cy5vcGVuRGV2VG9vbHMoKTtcclxuICB9KTtcclxuICAvLyDngrnlh7vnoa7lrprmjInpkq7lm57osIPkuovku7ZcclxuICBzY3JlZW5zaG90cy5vbignb2snLCAoZSwgYnVmZmVyLCBib3VuZHMpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdjYXB0dXJlJywgYnVmZmVyLCBib3VuZHMpO1xyXG4gIH0pO1xyXG4gIC8vIOeCueWHu+WPlua2iOaMiemSruWbnuiwg+S6i+S7tjtcclxuICBzY3JlZW5zaG90cy5vbignY2FuY2VsJywgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ2NhcHR1cmUnLCAnY2FuY2VsMScpO1xyXG4gIH0pO1xyXG4gIHNjcmVlbnNob3RzLm9uKCdjYW5jZWwnLCAoZSkgPT4ge1xyXG4gICAgLy8g5omn6KGM5LqGcHJldmVudERlZmF1bHRcclxuICAgIC8vIOeCueWHu+WPlua2iOS4jeS8muWFs+mXreaIquWbvueql+WPo1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc29sZS5sb2coJ2NhcHR1cmUnLCAnY2FuY2VsMicpO1xyXG4gIH0pO1xyXG4gIC8vIOeCueWHu+S/neWtmOaMiemSruWbnuiwg+S6i+S7tlxyXG4gIHNjcmVlbnNob3RzLm9uKCdzYXZlJywgKGUsIGJ1ZmZlciwgYm91bmRzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnY2FwdHVyZScsIGJ1ZmZlciwgYm91bmRzKTtcclxuICB9KTtcclxufVxyXG5hcHAud2hlblJlYWR5KClcclxuICAudGhlbihjcmVhdGVXaW5kb3cpXHJcbiAgLmNhdGNoKChlKSA9PiBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JhdGUgd2luZG93OicsIGUpKTtcclxuXHJcbmFwcC53aGVuUmVhZHkoKVxyXG4gIC50aGVuKHNjcmVlbnNob3RzQ29uZmlnKVxyXG4gIC5jYXRjaCgoZSkgPT4gY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNjcmVlbnNob3RzQ29uZmlnOicsIGUpKTtcclxuXHJcbmFwcC5vbignd2luZG93LWFsbC1jbG9zZWQnLCAoKSA9PiB7XHJcbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gIT09ICdkYXJ3aW4nKSB7XHJcbiAgICBhcHAucXVpdCgpO1xyXG4gIH1cclxufSk7XHJcblxyXG5pZiAoIWlzRGV2ZWxvcG1lbnQpIHtcclxuICBhcHAud2hlblJlYWR5KClcclxuICAgIC50aGVuKCgpID0+IGltcG9ydCgnZWxlY3Ryb24tdXBkYXRlcicpKVxyXG4gICAgLnRoZW4oKHsgYXV0b1VwZGF0ZXIgfSkgPT4gYXV0b1VwZGF0ZXIuY2hlY2tGb3JVcGRhdGVzQW5kTm90aWZ5KCkpXHJcbiAgICAuY2F0Y2goKGUpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCBjaGVjayB1cGRhdGVzOicsIGUpKTtcclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlV2luZG93IiwibWFpbldpbmRvdyIsIkJyb3dzZXJXaW5kb3ciLCJqb2luIiwicGFnZVVybCIsInNjcmVlbnNob3RzQ29uZmlnIiwic2NyZWVuc2hvdHMiLCJTY3JlZW5zaG90cyIsImdsb2JhbFNob3J0Y3V0IiwiZSIsImJ1ZmZlciIsImJvdW5kcyIsImFwcCIsIm4iLCJhdXRvVXBkYXRlciJdLCJtYXBwaW5ncyI6IjhLQU1BLGVBQWVBLEdBQWUsQ0FDdEIsTUFBQUMsRUFBYSxJQUFJQyxnQkFBYyxDQUNuQyxLQUFNLEdBQ04sZUFBZ0IsQ0FDZCxRQUFTQyxFQUFBQSxLQUFLLFVBQVcsK0JBQStCLENBQzFELENBQUEsQ0FDRCxFQUVVRixFQUFBLEdBQUcsZ0JBQWlCLElBQU0sQ0FDbkNBLEdBQUEsTUFBQUEsRUFBWSxNQUlaLENBQ0QsRUFFbUMsUUFBUSxJQUU1QyxNQUFNRyxFQUVGLElBQUksSUFBSUQsRUFBQUEsS0FBSyxVQUFXLGlDQUFpQyxFQUFHLFVBQVUsV0FBVyxFQUFFLFNBQVMsRUFFMUYsTUFBQUYsRUFBVyxRQUFRRyxDQUFPLENBQ2xDLENBRUEsZUFBZUMsR0FBb0IsQ0FDM0IsTUFBQUMsRUFBYyxJQUFJQyxFQUFBQSxRQUNUQyxpQkFBQSxTQUFTLGVBQWdCLElBQU0sQ0FDNUMsUUFBUSxJQUFJLG1CQUFtQixFQUMvQkYsRUFBWSxhQUFhLENBQUEsQ0FFMUIsRUFFREEsRUFBWSxHQUFHLEtBQU0sQ0FBQ0csRUFBR0MsRUFBUUMsSUFBVyxDQUNsQyxRQUFBLElBQUksVUFBV0QsRUFBUUMsQ0FBTSxDQUFBLENBQ3RDLEVBRVdMLEVBQUEsR0FBRyxTQUFVLElBQU0sQ0FDckIsUUFBQSxJQUFJLFVBQVcsU0FBUyxDQUFBLENBQ2pDLEVBQ1dBLEVBQUEsR0FBRyxTQUFXRyxHQUFNLENBRzlCQSxFQUFFLGVBQWUsRUFDVCxRQUFBLElBQUksVUFBVyxTQUFTLENBQUEsQ0FDakMsRUFFREgsRUFBWSxHQUFHLE9BQVEsQ0FBQ0csRUFBR0MsRUFBUUMsSUFBVyxDQUNwQyxRQUFBLElBQUksVUFBV0QsRUFBUUMsQ0FBTSxDQUFBLENBQ3RDLENBQ0gsQ0FDQUMsRUFBQSxJQUFJLFVBQVUsRUFDWCxLQUFLWixDQUFZLEVBQ2pCLE1BQU8sR0FBTSxRQUFRLE1BQU0sMEJBQTJCLENBQUMsQ0FBQyxFQUUzRFksRUFBQSxJQUFJLFVBQVUsRUFDWCxLQUFLUCxDQUFpQixFQUN0QixNQUFPLEdBQU0sUUFBUSxNQUFNLCtCQUFnQyxDQUFDLENBQUMsRUFFaEVPLEVBQUFBLElBQUksR0FBRyxvQkFBcUIsSUFBTSxDQUM1QixRQUFRLFdBQWEsVUFDdkJBLEVBQUEsSUFBSSxLQUFLLENBRWIsQ0FBQyxFQUdLQSxNQUFBLFlBQ0QsS0FBSyxJQUFNLFFBQUEsUUFBQSxFQUFBLEtBQUEsVUFBQSxDQUFBLE9BQUEsUUFBTyxXQUFtQixDQUFBLENBQUEsRUFBQSxLQUFBLFNBQUFDLEVBQUEsQ0FBQSxPQUFBQSxFQUFBLElBQUEsQ0FBQSxDQUFBLEVBQ3JDLEtBQUssQ0FBQyxDQUFFLFlBQUFDLEtBQWtCQSxFQUFZLHlCQUEwQixDQUFBLEVBQ2hFLE1BQU8sR0FBTSxRQUFRLE1BQU0sd0JBQXlCLENBQUMsQ0FBQyJ9
